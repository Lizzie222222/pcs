{
  "id": "96c5a319-8071-4ba6-980e-b11d6c7a9390",
  "prevId": "3d5fc72e-9c81-495e-971a-5f33e34adce2",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.admin_evidence_overrides": {
      "name": "admin_evidence_overrides",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "evidence_requirement_id": {
          "name": "evidence_requirement_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "round_number": {
          "name": "round_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "marked_by": {
          "name": "marked_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "admin_evidence_overrides_school_id_idx": {
          "name": "admin_evidence_overrides_school_id_idx",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "admin_evidence_overrides_requirement_id_idx": {
          "name": "admin_evidence_overrides_requirement_id_idx",
          "columns": [
            {
              "expression": "evidence_requirement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "admin_evidence_overrides_unique_idx": {
          "name": "admin_evidence_overrides_unique_idx",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "evidence_requirement_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "round_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "admin_evidence_overrides_school_id_schools_id_fk": {
          "name": "admin_evidence_overrides_school_id_schools_id_fk",
          "tableFrom": "admin_evidence_overrides",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "admin_evidence_overrides_evidence_requirement_id_evidence_requirements_id_fk": {
          "name": "admin_evidence_overrides_evidence_requirement_id_evidence_requirements_id_fk",
          "tableFrom": "admin_evidence_overrides",
          "tableTo": "evidence_requirements",
          "columnsFrom": [
            "evidence_requirement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "admin_evidence_overrides_marked_by_users_id_fk": {
          "name": "admin_evidence_overrides_marked_by_users_id_fk",
          "tableFrom": "admin_evidence_overrides",
          "tableTo": "users",
          "columnsFrom": [
            "marked_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admin_invitations": {
      "name": "admin_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "invited_by": {
          "name": "invited_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'admin'"
        },
        "status": {
          "name": "status",
          "type": "invitation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "admin_invitations_invited_by_users_id_fk": {
          "name": "admin_invitations_invited_by_users_id_fk",
          "tableFrom": "admin_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "admin_invitations_token_unique": {
          "name": "admin_invitations_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_logs_user": {
          "name": "idx_audit_logs_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_target": {
          "name": "idx_audit_logs_target",
          "columns": [
            {
              "expression": "target_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_audit_logs_created": {
          "name": "idx_audit_logs_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "audit_logs_user_id_users_id_fk": {
          "name": "audit_logs_user_id_users_id_fk",
          "tableFrom": "audit_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_responses": {
      "name": "audit_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "audit_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "round_number": {
          "name": "round_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "part1_data": {
          "name": "part1_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "part2_data": {
          "name": "part2_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "part3_data": {
          "name": "part3_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "part4_data": {
          "name": "part4_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "results_data": {
          "name": "results_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "total_plastic_items": {
          "name": "total_plastic_items",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "top_problem_plastics": {
          "name": "top_problem_plastics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_part": {
          "name": "current_part",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_responses_school_id_schools_id_fk": {
          "name": "audit_responses_school_id_schools_id_fk",
          "tableFrom": "audit_responses",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "audit_responses_submitted_by_users_id_fk": {
          "name": "audit_responses_submitted_by_users_id_fk",
          "tableFrom": "audit_responses",
          "tableTo": "users",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_responses_reviewed_by_users_id_fk": {
          "name": "audit_responses_reviewed_by_users_id_fk",
          "tableFrom": "audit_responses",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.case_studies": {
      "name": "case_studies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "evidence_id": {
          "name": "evidence_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "featured": {
          "name": "featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "images": {
          "name": "images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "videos": {
          "name": "videos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "student_quotes": {
          "name": "student_quotes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "impact_metrics": {
          "name": "impact_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "timeline_sections": {
          "name": "timeline_sections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "categories": {
          "name": "categories",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "status": {
          "name": "status",
          "type": "case_study_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "template_type": {
          "name": "template_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "before_image": {
          "name": "before_image",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "after_image": {
          "name": "after_image",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "meta_keywords": {
          "name": "meta_keywords",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_status": {
          "name": "review_status",
          "type": "review_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "case_studies_evidence_id_evidence_id_fk": {
          "name": "case_studies_evidence_id_evidence_id_fk",
          "tableFrom": "case_studies",
          "tableTo": "evidence",
          "columnsFrom": [
            "evidence_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "case_studies_school_id_schools_id_fk": {
          "name": "case_studies_school_id_schools_id_fk",
          "tableFrom": "case_studies",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "case_studies_reviewed_by_users_id_fk": {
          "name": "case_studies_reviewed_by_users_id_fk",
          "tableFrom": "case_studies",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "case_studies_created_by_users_id_fk": {
          "name": "case_studies_created_by_users_id_fk",
          "tableFrom": "case_studies",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.case_study_review_comments": {
      "name": "case_study_review_comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "case_study_id": {
          "name": "case_study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "case_study_review_comments_case_study_idx": {
          "name": "case_study_review_comments_case_study_idx",
          "columns": [
            {
              "expression": "case_study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "case_study_review_comments_case_study_id_case_studies_id_fk": {
          "name": "case_study_review_comments_case_study_id_case_studies_id_fk",
          "tableFrom": "case_study_review_comments",
          "tableTo": "case_studies",
          "columnsFrom": [
            "case_study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "case_study_review_comments_user_id_users_id_fk": {
          "name": "case_study_review_comments_user_id_users_id_fk",
          "tableFrom": "case_study_review_comments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.case_study_tag_relations": {
      "name": "case_study_tag_relations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "case_study_id": {
          "name": "case_study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "case_study_tag_relations_case_study_idx": {
          "name": "case_study_tag_relations_case_study_idx",
          "columns": [
            {
              "expression": "case_study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "case_study_tag_relations_tag_idx": {
          "name": "case_study_tag_relations_tag_idx",
          "columns": [
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "case_study_tag_relations_case_study_id_case_studies_id_fk": {
          "name": "case_study_tag_relations_case_study_id_case_studies_id_fk",
          "tableFrom": "case_study_tag_relations",
          "tableTo": "case_studies",
          "columnsFrom": [
            "case_study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "case_study_tag_relations_tag_id_case_study_tags_id_fk": {
          "name": "case_study_tag_relations_tag_id_case_study_tags_id_fk",
          "tableFrom": "case_study_tag_relations",
          "tableTo": "case_study_tags",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.case_study_tags": {
      "name": "case_study_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "case_study_tags_created_by_users_id_fk": {
          "name": "case_study_tags_created_by_users_id_fk",
          "tableFrom": "case_study_tags",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "case_study_tags_name_unique": {
          "name": "case_study_tags_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        },
        "case_study_tags_slug_unique": {
          "name": "case_study_tags_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.case_study_versions": {
      "name": "case_study_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "case_study_id": {
          "name": "case_study_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "case_study_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "images": {
          "name": "images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "videos": {
          "name": "videos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "student_quotes": {
          "name": "student_quotes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "impact_metrics": {
          "name": "impact_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "timeline_sections": {
          "name": "timeline_sections",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "template_type": {
          "name": "template_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "before_image": {
          "name": "before_image",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "after_image": {
          "name": "after_image",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot": {
          "name": "snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "case_study_versions_case_study_id_idx": {
          "name": "case_study_versions_case_study_id_idx",
          "columns": [
            {
              "expression": "case_study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "case_study_versions_unique_version_idx": {
          "name": "case_study_versions_unique_version_idx",
          "columns": [
            {
              "expression": "case_study_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "case_study_versions_case_study_id_case_studies_id_fk": {
          "name": "case_study_versions_case_study_id_case_studies_id_fk",
          "tableFrom": "case_study_versions",
          "tableTo": "case_studies",
          "columnsFrom": [
            "case_study_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "case_study_versions_created_by_users_id_fk": {
          "name": "case_study_versions_created_by_users_id_fk",
          "tableFrom": "case_study_versions",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.certificates": {
      "name": "certificates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "issued_by": {
          "name": "issued_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_number": {
          "name": "certificate_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "completed_date": {
          "name": "completed_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "issued_date": {
          "name": "issued_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "shareable_url": {
          "name": "shareable_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "certificates_school_id_schools_id_fk": {
          "name": "certificates_school_id_schools_id_fk",
          "tableFrom": "certificates",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "certificates_issued_by_users_id_fk": {
          "name": "certificates_issued_by_users_id_fk",
          "tableFrom": "certificates",
          "tableTo": "users",
          "columnsFrom": [
            "issued_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "certificates_certificate_number_unique": {
          "name": "certificates_certificate_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "certificate_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_chat_messages_created": {
          "name": "idx_chat_messages_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_messages_user_id_users_id_fk": {
          "name": "chat_messages_user_id_users_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_locks": {
      "name": "document_locks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_type": {
          "name": "document_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "acquired_at": {
          "name": "acquired_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_document_locks_doc": {
          "name": "idx_document_locks_doc",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_locks_user": {
          "name": "idx_document_locks_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_locks_expires": {
          "name": "idx_document_locks_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_document_locks_unique": {
          "name": "idx_document_locks_unique",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_locks_user_id_users_id_fk": {
          "name": "document_locks_user_id_users_id_fk",
          "tableFrom": "document_locks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_logs": {
      "name": "email_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "recipient_email": {
          "name": "recipient_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_id": {
          "name": "recipient_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template": {
          "name": "template",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'sent'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "email_logs_recipient_id_users_id_fk": {
          "name": "email_logs_recipient_id_users_id_fk",
          "tableFrom": "email_logs",
          "tableTo": "users",
          "columnsFrom": [
            "recipient_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_announcements": {
      "name": "event_announcements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_type": {
          "name": "recipient_type",
          "type": "recipient_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "announcement_type": {
          "name": "announcement_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "sent_by": {
          "name": "sent_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "recipient_count": {
          "name": "recipient_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'sent'"
        }
      },
      "indexes": {
        "idx_event_announcements_event": {
          "name": "idx_event_announcements_event",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_announcements_event_id_events_id_fk": {
          "name": "event_announcements_event_id_events_id_fk",
          "tableFrom": "event_announcements",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_announcements_sent_by_users_id_fk": {
          "name": "event_announcements_sent_by_users_id_fk",
          "tableFrom": "event_announcements",
          "tableTo": "users",
          "columnsFrom": [
            "sent_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_banners": {
      "name": "event_banners",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "background_color": {
          "name": "background_color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'#0B3D5D'"
        },
        "text_color": {
          "name": "text_color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'#FFFFFF'"
        },
        "gradient": {
          "name": "gradient",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'ocean'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_event_banners_active": {
          "name": "idx_event_banners_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_banners_single_active": {
          "name": "idx_event_banners_single_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "where": "\"event_banners\".\"is_active\" = true",
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_banners_event_id_events_id_fk": {
          "name": "event_banners_event_id_events_id_fk",
          "tableFrom": "event_banners",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_banners_created_by_users_id_fk": {
          "name": "event_banners_created_by_users_id_fk",
          "tableFrom": "event_banners",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_link_clicks": {
      "name": "event_link_clicks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_at": {
          "name": "clicked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_event_link_clicks_event": {
          "name": "idx_event_link_clicks_event",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_link_clicks_user": {
          "name": "idx_event_link_clicks_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_link_clicks_event_id_events_id_fk": {
          "name": "event_link_clicks_event_id_events_id_fk",
          "tableFrom": "event_link_clicks",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_link_clicks_user_id_users_id_fk": {
          "name": "event_link_clicks_user_id_users_id_fk",
          "tableFrom": "event_link_clicks",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_registrations": {
      "name": "event_registrations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "registration_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'registered'"
        },
        "registered_at": {
          "name": "registered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "attended_at": {
          "name": "attended_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_event_registrations_event": {
          "name": "idx_event_registrations_event",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_registrations_user": {
          "name": "idx_event_registrations_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_registrations_event_id_events_id_fk": {
          "name": "event_registrations_event_id_events_id_fk",
          "tableFrom": "event_registrations",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_registrations_user_id_users_id_fk": {
          "name": "event_registrations_user_id_users_id_fk",
          "tableFrom": "event_registrations",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_registrations_school_id_schools_id_fk": {
          "name": "event_registrations_school_id_schools_id_fk",
          "tableFrom": "event_registrations",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_resource_downloads": {
      "name": "event_resource_downloads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_index": {
          "name": "file_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "downloaded_at": {
          "name": "downloaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_event_resource_downloads_event": {
          "name": "idx_event_resource_downloads_event",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_resource_downloads_user": {
          "name": "idx_event_resource_downloads_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_resource_downloads_event_id_events_id_fk": {
          "name": "event_resource_downloads_event_id_events_id_fk",
          "tableFrom": "event_resource_downloads",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_resource_downloads_user_id_users_id_fk": {
          "name": "event_resource_downloads_user_id_users_id_fk",
          "tableFrom": "event_resource_downloads",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.event_resources": {
      "name": "event_resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "event_id": {
          "name": "event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_event_resources_event": {
          "name": "idx_event_resources_event",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_resources_resource": {
          "name": "idx_event_resources_resource",
          "columns": [
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_event_resources_unique": {
          "name": "idx_event_resources_unique",
          "columns": [
            {
              "expression": "event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "event_resources_event_id_events_id_fk": {
          "name": "event_resources_event_id_events_id_fk",
          "tableFrom": "event_resources",
          "tableTo": "events",
          "columnsFrom": [
            "event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "event_resources_resource_id_resources_id_fk": {
          "name": "event_resources_resource_id_resources_id_fk",
          "tableFrom": "event_resources",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.events": {
      "name": "events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "event_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "event_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "start_date_time": {
          "name": "start_date_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date_time": {
          "name": "end_date_time",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "timezone": {
          "name": "timezone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'UTC'"
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_virtual": {
          "name": "is_virtual",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "meeting_link": {
          "name": "meeting_link",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "image_url": {
          "name": "image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "capacity": {
          "name": "capacity",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "waitlist_enabled": {
          "name": "waitlist_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "registration_deadline": {
          "name": "registration_deadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "public_slug": {
          "name": "public_slug",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "youtube_videos": {
          "name": "youtube_videos",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "event_pack_files": {
          "name": "event_pack_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "testimonials": {
          "name": "testimonials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reminder_sent_at": {
          "name": "reminder_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_pre_recorded": {
          "name": "is_pre_recorded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "recording_available_from": {
          "name": "recording_available_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "page_published_status": {
          "name": "page_published_status",
          "type": "page_published_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'draft'"
        },
        "access_type": {
          "name": "access_type",
          "type": "access_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'open'"
        },
        "title_translations": {
          "name": "title_translations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "description_translations": {
          "name": "description_translations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "youtube_video_translations": {
          "name": "youtube_video_translations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "event_pack_file_translations": {
          "name": "event_pack_file_translations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "testimonial_translations": {
          "name": "testimonial_translations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "featured_video_index": {
          "name": "featured_video_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "event_pack_banner_image_url": {
          "name": "event_pack_banner_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "show_evidence_submission": {
          "name": "show_evidence_submission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "evidence_submission_text": {
          "name": "evidence_submission_text",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_events_start_date": {
          "name": "idx_events_start_date",
          "columns": [
            {
              "expression": "start_date_time",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_status": {
          "name": "idx_events_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_public_slug": {
          "name": "idx_events_public_slug",
          "columns": [
            {
              "expression": "public_slug",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "events_created_by_users_id_fk": {
          "name": "events_created_by_users_id_fk",
          "tableFrom": "events",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.evidence": {
      "name": "evidence",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "evidence_requirement_id": {
          "name": "evidence_requirement_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "evidence_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "visibility": {
          "name": "visibility",
          "type": "visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'registered'"
        },
        "files": {
          "name": "files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "video_links": {
          "name": "video_links",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_audit_quiz": {
          "name": "is_audit_quiz",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "round_number": {
          "name": "round_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "has_children": {
          "name": "has_children",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "parental_consent_files": {
          "name": "parental_consent_files",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "evidence_school_id_schools_id_fk": {
          "name": "evidence_school_id_schools_id_fk",
          "tableFrom": "evidence",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "evidence_submitted_by_users_id_fk": {
          "name": "evidence_submitted_by_users_id_fk",
          "tableFrom": "evidence",
          "tableTo": "users",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "evidence_evidence_requirement_id_evidence_requirements_id_fk": {
          "name": "evidence_evidence_requirement_id_evidence_requirements_id_fk",
          "tableFrom": "evidence",
          "tableTo": "evidence_requirements",
          "columnsFrom": [
            "evidence_requirement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "evidence_reviewed_by_users_id_fk": {
          "name": "evidence_reviewed_by_users_id_fk",
          "tableFrom": "evidence",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "evidence_assigned_to_users_id_fk": {
          "name": "evidence_assigned_to_users_id_fk",
          "tableFrom": "evidence",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_to"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.evidence_requirements": {
      "name": "evidence_requirements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "resource_ids": {
          "name": "resource_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "ARRAY[]::text[]"
        },
        "custom_links": {
          "name": "custom_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "translations": {
          "name": "translations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "language_specific_resources": {
          "name": "language_specific_resources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "language_specific_links": {
          "name": "language_specific_links",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.health_checks": {
      "name": "health_checks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "health_check_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "checked_at": {
          "name": "checked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_health_checks_endpoint": {
          "name": "idx_health_checks_endpoint",
          "columns": [
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_health_checks_checked_at": {
          "name": "idx_health_checks_checked_at",
          "columns": [
            {
              "expression": "checked_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.import_batches": {
      "name": "import_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "imported_by": {
          "name": "imported_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "import_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'processing'"
        },
        "total_records": {
          "name": "total_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success_count": {
          "name": "success_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_count": {
          "name": "error_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "schools_imported": {
          "name": "schools_imported",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "users_imported": {
          "name": "users_imported",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "relationships_imported": {
          "name": "relationships_imported",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "errors": {
          "name": "errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "import_batches_imported_by_users_id_fk": {
          "name": "import_batches_imported_by_users_id_fk",
          "tableFrom": "import_batches",
          "tableTo": "users",
          "columnsFrom": [
            "imported_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailchimp_audiences": {
      "name": "mailchimp_audiences",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "mailchimp_id": {
          "name": "mailchimp_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "member_count": {
          "name": "member_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mailchimp_audiences_mailchimp_id_unique": {
          "name": "mailchimp_audiences_mailchimp_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "mailchimp_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.mailchimp_subscriptions": {
      "name": "mailchimp_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "audience_id": {
          "name": "audience_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'subscribed'"
        },
        "subscribed_at": {
          "name": "subscribed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "merge_fields": {
          "name": "merge_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "mailchimp_subscriptions_audience_id_mailchimp_audiences_id_fk": {
          "name": "mailchimp_subscriptions_audience_id_mailchimp_audiences_id_fk",
          "tableFrom": "mailchimp_subscriptions",
          "tableTo": "mailchimp_audiences",
          "columnsFrom": [
            "audience_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "mailchimp_subscriptions_user_id_users_id_fk": {
          "name": "mailchimp_subscriptions_user_id_users_id_fk",
          "tableFrom": "mailchimp_subscriptions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "mailchimp_subscriptions_school_id_schools_id_fk": {
          "name": "mailchimp_subscriptions_school_id_schools_id_fk",
          "tableFrom": "mailchimp_subscriptions",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.media_asset_tags": {
      "name": "media_asset_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_media_asset_tags_asset_id": {
          "name": "idx_media_asset_tags_asset_id",
          "columns": [
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_asset_tags_tag_id": {
          "name": "idx_media_asset_tags_tag_id",
          "columns": [
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_asset_tags_asset_id_media_assets_id_fk": {
          "name": "media_asset_tags_asset_id_media_assets_id_fk",
          "tableFrom": "media_asset_tags",
          "tableTo": "media_assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "media_asset_tags_tag_id_media_tags_id_fk": {
          "name": "media_asset_tags_tag_id_media_tags_id_fk",
          "tableFrom": "media_asset_tags",
          "tableTo": "media_tags",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.media_asset_usage": {
      "name": "media_asset_usage",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "usage_type": {
          "name": "usage_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reference_id": {
          "name": "reference_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_media_asset_usage_asset_id": {
          "name": "idx_media_asset_usage_asset_id",
          "columns": [
            {
              "expression": "asset_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_asset_usage_asset_id_media_assets_id_fk": {
          "name": "media_asset_usage_asset_id_media_assets_id_fk",
          "tableFrom": "media_asset_usage",
          "tableTo": "media_assets",
          "columnsFrom": [
            "asset_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.media_assets": {
      "name": "media_assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "object_key": {
          "name": "object_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "media_type": {
          "name": "media_type",
          "type": "media_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "storage_scope": {
          "name": "storage_scope",
          "type": "storage_scope",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'global'"
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "alt_text": {
          "name": "alt_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'registered'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_media_assets_media_type_scope": {
          "name": "idx_media_assets_media_type_scope",
          "columns": [
            {
              "expression": "media_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "storage_scope",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_assets_uploaded_by": {
          "name": "idx_media_assets_uploaded_by",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_assets_school_id": {
          "name": "idx_media_assets_school_id",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_assets_uploaded_by_users_id_fk": {
          "name": "media_assets_uploaded_by_users_id_fk",
          "tableFrom": "media_assets",
          "tableTo": "users",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "media_assets_school_id_schools_id_fk": {
          "name": "media_assets_school_id_schools_id_fk",
          "tableFrom": "media_assets",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.media_tags": {
      "name": "media_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "media_tags_name_unique": {
          "name": "media_tags_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.migration_logs": {
      "name": "migration_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "status": {
          "name": "status",
          "type": "migration_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "total_rows": {
          "name": "total_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "valid_rows": {
          "name": "valid_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "skipped_rows": {
          "name": "skipped_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "processed_rows": {
          "name": "processed_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "failed_rows": {
          "name": "failed_rows",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "users_created": {
          "name": "users_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "schools_created": {
          "name": "schools_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "dry_run": {
          "name": "dry_run",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "error_log": {
          "name": "error_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "report_data": {
          "name": "report_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "csv_file_name": {
          "name": "csv_file_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "performed_by": {
          "name": "performed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_migration_logs_status": {
          "name": "idx_migration_logs_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_migration_logs_started": {
          "name": "idx_migration_logs_started",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "migration_logs_performed_by_users_id_fk": {
          "name": "migration_logs_performed_by_users_id_fk",
          "tableFrom": "migration_logs",
          "tableTo": "users",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "notification_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_url": {
          "name": "action_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "link_url": {
          "name": "link_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_notifications_school_read": {
          "name": "idx_notifications_school_read",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_read",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_user_read": {
          "name": "idx_notifications_user_read",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_read",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_notifications_created": {
          "name": "idx_notifications_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "notifications_school_id_schools_id_fk": {
          "name": "notifications_school_id_schools_id_fk",
          "tableFrom": "notifications",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_resource_id_resources_id_fk": {
          "name": "notifications_resource_id_resources_id_fk",
          "tableFrom": "notifications",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.password_reset_tokens": {
      "name": "password_reset_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_password_reset_email": {
          "name": "idx_password_reset_email",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_password_reset_token": {
          "name": "idx_password_reset_token",
          "columns": [
            {
              "expression": "token",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_password_reset_expires": {
          "name": "idx_password_reset_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "password_reset_tokens_token_unique": {
          "name": "password_reset_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.printable_form_submissions": {
      "name": "printable_form_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "form_type": {
          "name": "form_type",
          "type": "form_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "original_filename": {
          "name": "original_filename",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "submission_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_printable_submissions_school": {
          "name": "idx_printable_submissions_school",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_printable_submissions_status": {
          "name": "idx_printable_submissions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "printable_form_submissions_school_id_schools_id_fk": {
          "name": "printable_form_submissions_school_id_schools_id_fk",
          "tableFrom": "printable_form_submissions",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "printable_form_submissions_submitted_by_users_id_fk": {
          "name": "printable_form_submissions_submitted_by_users_id_fk",
          "tableFrom": "printable_form_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "printable_form_submissions_reviewed_by_users_id_fk": {
          "name": "printable_form_submissions_reviewed_by_users_id_fk",
          "tableFrom": "printable_form_submissions",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reduction_promises": {
      "name": "reduction_promises",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "audit_id": {
          "name": "audit_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "round_number": {
          "name": "round_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "plastic_item_type": {
          "name": "plastic_item_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "plastic_item_label": {
          "name": "plastic_item_label",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "baseline_quantity": {
          "name": "baseline_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "target_quantity": {
          "name": "target_quantity",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reduction_amount": {
          "name": "reduction_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "timeframe_unit": {
          "name": "timeframe_unit",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "promise_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reduction_promises_school_status": {
          "name": "idx_reduction_promises_school_status",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reduction_promises_school_id_schools_id_fk": {
          "name": "reduction_promises_school_id_schools_id_fk",
          "tableFrom": "reduction_promises",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reduction_promises_audit_id_audit_responses_id_fk": {
          "name": "reduction_promises_audit_id_audit_responses_id_fk",
          "tableFrom": "reduction_promises",
          "tableTo": "audit_responses",
          "columnsFrom": [
            "audit_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "reduction_promises_created_by_users_id_fk": {
          "name": "reduction_promises_created_by_users_id_fk",
          "tableFrom": "reduction_promises",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resource_pack_items": {
      "name": "resource_pack_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "pack_id": {
          "name": "pack_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "order_index": {
          "name": "order_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "resource_pack_items_pack_id_idx": {
          "name": "resource_pack_items_pack_id_idx",
          "columns": [
            {
              "expression": "pack_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "resource_pack_items_resource_id_idx": {
          "name": "resource_pack_items_resource_id_idx",
          "columns": [
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "resource_pack_items_pack_id_resource_packs_id_fk": {
          "name": "resource_pack_items_pack_id_resource_packs_id_fk",
          "tableFrom": "resource_pack_items",
          "tableTo": "resource_packs",
          "columnsFrom": [
            "pack_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "resource_pack_items_resource_id_resources_id_fk": {
          "name": "resource_pack_items_resource_id_resources_id_fk",
          "tableFrom": "resource_pack_items",
          "tableTo": "resources",
          "columnsFrom": [
            "resource_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resource_packs": {
      "name": "resource_packs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "theme": {
          "name": "theme",
          "type": "resource_theme",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'public'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "download_count": {
          "name": "download_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "resource_packs_created_by_users_id_fk": {
          "name": "resource_packs_created_by_users_id_fk",
          "tableFrom": "resource_packs",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.resources": {
      "name": "resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stage": {
          "name": "stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "age_range": {
          "name": "age_range",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'English'"
        },
        "languages": {
          "name": "languages",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resource_type": {
          "name": "resource_type",
          "type": "resource_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "theme": {
          "name": "theme",
          "type": "resource_theme",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "themes": {
          "name": "themes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "download_count": {
          "name": "download_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "visibility": {
          "name": "visibility",
          "type": "visibility",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'public'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "hidden_on_resources_page": {
          "name": "hidden_on_resources_page",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_pinned": {
          "name": "is_pinned",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.school_users": {
      "name": "school_users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "school_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'teacher'"
        },
        "teacher_role": {
          "name": "teacher_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "referral_source": {
          "name": "referral_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "invited_by": {
          "name": "invited_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_evidence_count": {
          "name": "legacy_evidence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_school_users_school_role": {
          "name": "idx_school_users_school_role",
          "columns": [
            {
              "expression": "school_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "school_users_school_id_schools_id_fk": {
          "name": "school_users_school_id_schools_id_fk",
          "tableFrom": "school_users",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_users_user_id_users_id_fk": {
          "name": "school_users_user_id_users_id_fk",
          "tableFrom": "school_users",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "school_users_invited_by_users_id_fk": {
          "name": "school_users_invited_by_users_id_fk",
          "tableFrom": "school_users",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.schools": {
      "name": "schools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "school_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "admin_email": {
          "name": "admin_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "postcode": {
          "name": "postcode",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "zip_code": {
          "name": "zip_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "primary_language": {
          "name": "primary_language",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "age_ranges": {
          "name": "age_ranges",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "student_count": {
          "name": "student_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "registration_completed": {
          "name": "registration_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "latitude": {
          "name": "latitude",
          "type": "numeric(10, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "longitude": {
          "name": "longitude",
          "type": "numeric(11, 8)",
          "primaryKey": false,
          "notNull": false
        },
        "current_stage": {
          "name": "current_stage",
          "type": "program_stage",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'inspire'"
        },
        "progress_percentage": {
          "name": "progress_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "inspire_completed": {
          "name": "inspire_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "investigate_completed": {
          "name": "investigate_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "act_completed": {
          "name": "act_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "award_completed": {
          "name": "award_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "current_round": {
          "name": "current_round",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "rounds_completed": {
          "name": "rounds_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "audit_quiz_completed": {
          "name": "audit_quiz_completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "featured_school": {
          "name": "featured_school",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "show_on_map": {
          "name": "show_on_map",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "primary_contact_id": {
          "name": "primary_contact_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "photo_consent_document_url": {
          "name": "photo_consent_document_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "photo_consent_status": {
          "name": "photo_consent_status",
          "type": "photo_consent_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "photo_consent_uploaded_at": {
          "name": "photo_consent_uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "photo_consent_approved_at": {
          "name": "photo_consent_approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "photo_consent_approved_by": {
          "name": "photo_consent_approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "photo_consent_review_notes": {
          "name": "photo_consent_review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_migrated": {
          "name": "is_migrated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "legacy_district": {
          "name": "legacy_district",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "legacy_evidence_count": {
          "name": "legacy_evidence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "migrated_at": {
          "name": "migrated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "schools_primary_contact_id_users_id_fk": {
          "name": "schools_primary_contact_id_users_id_fk",
          "tableFrom": "schools",
          "tableTo": "users",
          "columnsFrom": [
            "primary_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "schools_photo_consent_approved_by_users_id_fk": {
          "name": "schools_photo_consent_approved_by_users_id_fk",
          "tableFrom": "schools",
          "tableTo": "users",
          "columnsFrom": [
            "photo_consent_approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.settings": {
      "name": "settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_settings_key": {
          "name": "idx_settings_key",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "settings_key_unique": {
          "name": "settings_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.teacher_invitations": {
      "name": "teacher_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by": {
          "name": "invited_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "invitation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "teacher_invitations_school_id_schools_id_fk": {
          "name": "teacher_invitations_school_id_schools_id_fk",
          "tableFrom": "teacher_invitations",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "teacher_invitations_invited_by_users_id_fk": {
          "name": "teacher_invitations_invited_by_users_id_fk",
          "tableFrom": "teacher_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "teacher_invitations_token_unique": {
          "name": "teacher_invitations_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.testimonials": {
      "name": "testimonials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "quote": {
          "name": "quote",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "author_name": {
          "name": "author_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "author_role": {
          "name": "author_role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "school_name": {
          "name": "school_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uptime_metrics": {
      "name": "uptime_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "total_checks": {
          "name": "total_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "successful_checks": {
          "name": "successful_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "failed_checks": {
          "name": "failed_checks",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "avg_response_time": {
          "name": "avg_response_time",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "uptime_percentage": {
          "name": "uptime_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_uptime_metrics_date": {
          "name": "idx_uptime_metrics_date",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_uptime_metrics_endpoint": {
          "name": "idx_uptime_metrics_endpoint",
          "columns": [
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_uptime_metrics_unique": {
          "name": "idx_uptime_metrics_unique",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "endpoint",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_activity_logs": {
      "name": "user_activity_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action_type": {
          "name": "action_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action_details": {
          "name": "action_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "target_id": {
          "name": "target_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "target_type": {
          "name": "target_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_activity_logs_user": {
          "name": "idx_user_activity_logs_user",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activity_logs_action": {
          "name": "idx_user_activity_logs_action",
          "columns": [
            {
              "expression": "action_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activity_logs_created": {
          "name": "idx_user_activity_logs_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_activity_logs_user_id_users_id_fk": {
          "name": "user_activity_logs_user_id_users_id_fk",
          "tableFrom": "user_activity_logs",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone_number": {
          "name": "phone_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'teacher'"
        },
        "is_admin": {
          "name": "is_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "preferred_language": {
          "name": "preferred_language",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "has_seen_onboarding": {
          "name": "has_seen_onboarding",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "needs_password_reset": {
          "name": "needs_password_reset",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_viewed_events_at": {
          "name": "last_viewed_events_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "has_interacted": {
          "name": "has_interacted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_migrated": {
          "name": "is_migrated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "legacy_user_id": {
          "name": "legacy_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "needs_evidence_resubmission": {
          "name": "needs_evidence_resubmission",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "migrated_at": {
          "name": "migrated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "welcome_email_sent_at": {
          "name": "welcome_email_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification_requests": {
      "name": "verification_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "school_id": {
          "name": "school_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "request_type": {
          "name": "request_type",
          "type": "request_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'join_school'"
        },
        "status": {
          "name": "status",
          "type": "verification_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "evidence": {
          "name": "evidence",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "verification_requests_user_id_users_id_fk": {
          "name": "verification_requests_user_id_users_id_fk",
          "tableFrom": "verification_requests",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "verification_requests_school_id_schools_id_fk": {
          "name": "verification_requests_school_id_schools_id_fk",
          "tableFrom": "verification_requests",
          "tableTo": "schools",
          "columnsFrom": [
            "school_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "verification_requests_reviewed_by_users_id_fk": {
          "name": "verification_requests_reviewed_by_users_id_fk",
          "tableFrom": "verification_requests",
          "tableTo": "users",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.access_type": {
      "name": "access_type",
      "schema": "public",
      "values": [
        "open",
        "closed"
      ]
    },
    "public.activity_status": {
      "name": "activity_status",
      "schema": "public",
      "values": [
        "idle",
        "viewing_dashboard",
        "reviewing_evidence",
        "editing_case_study",
        "editing_event",
        "managing_schools",
        "managing_users",
        "managing_resources"
      ]
    },
    "public.audit_status": {
      "name": "audit_status",
      "schema": "public",
      "values": [
        "draft",
        "submitted",
        "approved",
        "rejected"
      ]
    },
    "public.case_study_status": {
      "name": "case_study_status",
      "schema": "public",
      "values": [
        "draft",
        "published"
      ]
    },
    "public.event_status": {
      "name": "event_status",
      "schema": "public",
      "values": [
        "draft",
        "published",
        "cancelled",
        "completed"
      ]
    },
    "public.event_type": {
      "name": "event_type",
      "schema": "public",
      "values": [
        "workshop",
        "webinar",
        "community_event",
        "training",
        "celebration",
        "assembly",
        "other"
      ]
    },
    "public.evidence_status": {
      "name": "evidence_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.form_type": {
      "name": "form_type",
      "schema": "public",
      "values": [
        "audit",
        "action_plan"
      ]
    },
    "public.health_check_status": {
      "name": "health_check_status",
      "schema": "public",
      "values": [
        "healthy",
        "degraded",
        "down"
      ]
    },
    "public.import_status": {
      "name": "import_status",
      "schema": "public",
      "values": [
        "processing",
        "completed",
        "failed",
        "partial"
      ]
    },
    "public.invitation_status": {
      "name": "invitation_status",
      "schema": "public",
      "values": [
        "pending",
        "accepted",
        "expired"
      ]
    },
    "public.media_type": {
      "name": "media_type",
      "schema": "public",
      "values": [
        "image",
        "video",
        "document",
        "audio"
      ]
    },
    "public.migration_status": {
      "name": "migration_status",
      "schema": "public",
      "values": [
        "pending",
        "processing",
        "completed",
        "failed"
      ]
    },
    "public.notification_type": {
      "name": "notification_type",
      "schema": "public",
      "values": [
        "new_resource",
        "resource_updated",
        "evidence_reviewed",
        "evidence_assigned",
        "stage_completed",
        "general"
      ]
    },
    "public.page_published_status": {
      "name": "page_published_status",
      "schema": "public",
      "values": [
        "draft",
        "coming_soon",
        "published"
      ]
    },
    "public.photo_consent_status": {
      "name": "photo_consent_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.program_stage": {
      "name": "program_stage",
      "schema": "public",
      "values": [
        "inspire",
        "investigate",
        "act"
      ]
    },
    "public.promise_status": {
      "name": "promise_status",
      "schema": "public",
      "values": [
        "active",
        "achieved",
        "cancelled"
      ]
    },
    "public.recipient_type": {
      "name": "recipient_type",
      "schema": "public",
      "values": [
        "all_teachers",
        "custom"
      ]
    },
    "public.registration_status": {
      "name": "registration_status",
      "schema": "public",
      "values": [
        "registered",
        "attended",
        "cancelled",
        "waitlisted"
      ]
    },
    "public.request_type": {
      "name": "request_type",
      "schema": "public",
      "values": [
        "join_school"
      ]
    },
    "public.resource_theme": {
      "name": "resource_theme",
      "schema": "public",
      "values": [
        "ocean_literacy",
        "climate_change",
        "plastic_pollution",
        "science",
        "design_technology",
        "geography",
        "cross_curricular",
        "enrichment",
        "student_action"
      ]
    },
    "public.resource_type": {
      "name": "resource_type",
      "schema": "public",
      "values": [
        "lesson_plan",
        "assembly",
        "teacher_toolkit",
        "student_workbook",
        "printable_activities"
      ]
    },
    "public.review_status": {
      "name": "review_status",
      "schema": "public",
      "values": [
        "draft",
        "pending_review",
        "approved",
        "rejected",
        "published"
      ]
    },
    "public.school_role": {
      "name": "school_role",
      "schema": "public",
      "values": [
        "head_teacher",
        "teacher",
        "pending_teacher"
      ]
    },
    "public.school_type": {
      "name": "school_type",
      "schema": "public",
      "values": [
        "primary",
        "secondary",
        "high_school",
        "international",
        "other"
      ]
    },
    "public.storage_scope": {
      "name": "storage_scope",
      "schema": "public",
      "values": [
        "global",
        "school"
      ]
    },
    "public.submission_status": {
      "name": "submission_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "revision_requested"
      ]
    },
    "public.user_activity_action": {
      "name": "user_activity_action",
      "schema": "public",
      "values": [
        "login",
        "logout",
        "register",
        "evidence_submit",
        "evidence_approve",
        "evidence_reject",
        "evidence_delete",
        "school_create",
        "school_update",
        "audit_submit",
        "audit_approve",
        "audit_reject",
        "promise_create",
        "promise_update",
        "promise_delete",
        "user_invite",
        "user_remove",
        "resource_create",
        "resource_update",
        "resource_delete",
        "case_study_create",
        "case_study_update",
        "case_study_publish",
        "case_study_delete",
        "event_create",
        "event_update",
        "event_delete",
        "event_register",
        "email_send",
        "settings_update",
        "role_change",
        "other"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "teacher",
        "admin",
        "partner",
        "school"
      ]
    },
    "public.verification_status": {
      "name": "verification_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected"
      ]
    },
    "public.visibility": {
      "name": "visibility",
      "schema": "public",
      "values": [
        "public",
        "private",
        "registered"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}